<!DOCTYPE HTML>
<html lang="en">
<head>
    <!--=============== basic  ===============-->
    <!-- <meta charset="UTF-8">
    <title>Gundri Booking</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta name="robots" content="index, follow"/>
    <meta name="keywords" content=""/>
    <meta name="description" content=""/> -->
    <jcms:site:fevicon/>
    <jcms:site:seotitle/>


    <link href='https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css' rel="stylesheet"
          integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
    <!--=============== css  ===============-->
    <link rel="stylesheet" href="css/reset.css">
    <link rel="stylesheet" href="css/jquery-ui.min.css">
    <link rel="stylesheet" href="css/plugins.css">
    <link rel="stylesheet" href="css/style.css">
    <link rel="stylesheet" href="css/color.css">
    <!--=============== favicons ===============-->
    <!--  <link rel="shortcut icon" href="images/favicon.ico"> -->
</head>
<body>
<!--loader-->
<div class="loader-wrap">
    <div class="pin">
        <div class="pulse"></div>
    </div>
</div>
<!--loader end-->
<!-- Main  -->
<div id="main">
    <!-- header-->
    <header class="main-header">
        <!-- header-top-->
        <div class="header-top fl-wrap">
            <div class="container">
                <div class="d-flex justify-content-between">
                    <div class="logo-holder">
                        <jcms:module:logo/>
                        <!--  <a href="index.html"><img src="images/logo.png" alt=""></a> -->
                    </div>
                    <div class="greeting">
                        <a href="<jcms:site:base_url/>listproperty" class="btn btn-outline-light btn-sm d-inline-block">List your property</a>
                        <jcms:module:subscribers:login-welcome/>
                    </div>
                </div>
                <div class="nav-holder main-menu">
                    <nav>
                        <jcms:module:menu/>
                    </nav>
                </div>

            </div>
        </div>
        <!-- header-top end-->
    </header>
    <!--  header end -->
    <!--  wrapper  -->
    <div id="wrapper">
        <!-- content-->
        <div class="content">
            <div class="container">

                <div class="row">
                    <div class="col-sm-8 mx-auto">


                        <div class="bookiing-form-wrap">


                            <div class="list-single-main-item fl-wrap hidden-section tr-sec">
                                <div class="profile-edit-container">
                                    <div class="custom-form">
                                        <form id="signUpForm">

                                            <div class="row">
                                                <div class="col-sm-12">
                                                    <div class="list-single-main-item-title fl-wrap">
                                                        <h2>List your Service</h2>
                                                        <h3>Contact Details</h3>
                                                    </div>
                                                </div>
                                                <div class="col-sm-4 anim">
                                                    <span>First Name </span>
                                                    <input type="text" name="first_name" value=""/>
                                                </div>
                                                <div class="col-sm-3 anim">
                                                    <span>Middle Name </span>
                                                    <input type="text"  name="middle_name" value=""/>
                                                </div>
                                                <div class="col-sm-5 anim">
                                                    <span>Last Name </span>
                                                    <input type="text"  name="last_name" value=""/>
                                                </div>
                                            </div>
                                            <div class="row">


                                            </div>
                                            <div class="row">
                                                <div class="col-sm-6 anim">
                                                    <span>Phone </span>
                                                    <input type="text"  name="contact" value=""/>
                                                </div>
                                                <div class="col-sm-6 anim">
                                                    <span>Email Address </span>
                                                    <input type="email"  name="email" value=""/>
                                                </div>

                                            </div>

                                            <hr>
                                            <div class="row py-4">
                                                <div class="col-sm-12 anim">
                                                    <span>Username </span>
                                                    <input type="text"  name="user_name" value=""/>
                                                </div>
                                                <div class="col-sm-6 anim">
                                                    <span>Password </span>
                                                    <input type="password"  name="password" id="password" value=""/>
                                                </div>
                                                <div class="col-sm-6 anim">
                                                    <span>Confirm Password</span>
                                                    <input type="password"  name="confirm_password" id="confirm_password"
                                                           value=""/>
                                                </div>

                                            </div>
                                            <div class="fs-6 mb-3 fl-wrap">

                                                <h3><strong>Choose your Services</strong></h3>
                                            </div>
                                            <div class="row mb-3">
                                                <div class="col-sm-12 position-relative checkbox">
                                                    <div class="filter-tags">
                                                        <input id="check-hotel" type="checkbox" name="check_service[]" value="hotel">
                                                        <label for="check-hotel">Hotels</label>
                                                    </div>
                                                    <div class="filter-tags">
                                                        <input id="check-package" type="checkbox" name="check_service[]" value="package">
                                                        <label for="check-package">Package</label>
                                                    </div>
                                                    <div class="filter-tags">
                                                        <input id="check-vehicle" type="checkbox" name="check_service[]" value="vehicle">
                                                        <label for="check-vehicle"> Vehicle Rental</label>
                                                    </div>
                                                </div>
                                            </div>

                                            <div class="hide my-3" id="hotel-section">
                                                
                                                <div class="fs-6 mb-3 fl-wrap">

                                                    <h3><strong>List your Property</strong></h3>
                                                </div>
                                                <div class="row add-hotels">
                                                    <div class="col-sm-5 anim">

                                                        <span>No. of Properties </span>
                                                        <select name="hotels_no" class="hotels_no nice-select ">
                                                            <option value=""></option>
                                                            <option value="1">1</option>
                                                            <option value="2">2</option>
                                                            <option value="3">3</option>
                                                            <option value="4">4</option>
                                                            <option value="5">5</option>
                                                            <option value="6">6</option>
                                                            <option value="7">7</option>
                                                            <option value="8">8</option>
                                                        </select>
                                                    </div>
                                                    <div class="hotel-details row"></div>
                                                </div>
                                            </div>

                                            <div class="hide my-3" id="package-section">
                                               
                                                <div class="fs-6 mb-3 fl-wrap">
                                                    <h3><strong>List Trip Package</strong></h3>
                                                </div>
                                                <div class="row">

                                                    <div class="col-sm-6 anim">
                                                        <span>Organization Name </span>
                                                        <input type="text"  name="trip_company_name" value=""/>

                                                    </div>

                                                    <div class="col-sm-6 anim">
                                                        <span>Contact Number </span>
                                                        <input type="text"  name="trip_contact_no" value=""/>
                                                    </div>

                                                    <div class="col-sm-12 anim">
                                                        <span>Company Address </span>
                                                        <input type="text"  name="trip_company_address" value=""/>
                                                    </div>

                                                </div>
                                            </div>

                                            <div class="hide my-3" id="vehicle-section">
                                                
                                                <div class="fs-6 mb-3 fl-wrap">

                                                    <h3><strong>List Vehicle Rental Service</strong></h3>
                                                </div>
                                                <div class="row">


                                                    <div class="col-sm-4 anim">
                                                        <span for="vehicle-vendor-type">Register Type </span>
                                                        <select name="vehicle_vendor_type" id="vehicle-vendor-type" class="mb-2  nice-select">
                                                            <option value=""></option>
                                                            <option value="individual">Individual</option>
                                                            <option value="company">Company</option>
                                                        </select>

                                                    </div>
                                                    <div class="col-sm-8 hide anim" id="vehicle-company-name">
                                                        <span>Organization Name </span>
                                                        <input type="text"  name="vehicle_company_name" value=""/>

                                                    </div>
                                                    <div class="col-sm-5 anim">
                                                        <span>Number of vehicles </span>
                                                        <input type="number"   name="vehicle_no"  min="1"/>
                                                    </div>
                                               
                                                    <div class="col-sm-6 hide anim" id="vehicle-company-contact-no">
                                                        <span>Contact Number </span>
                                                        <input type="text"  name="vehicle_company_contact_no" value=""/>
                                                    </div>

                                                    <div class="col-sm-12 anim">
                                                        <span> Address </span>
                                                        <input type="text"  name="vehicle_vendor_address" value=""/>
                                                    </div>

                                                </div>
                                            </div>

                                            <div class="log-massage">Existing Customer?
                                                <a href="<jcms:site:base_url/>apanel/partner" class="link">Click here to login</a>
                                            </div>
                                            <div class="" id="msg"></div>
                                            <div class="row">
                                                <div class="col-sm-12 checkbox">
                                            <div class="filter-tags ">
                                                <input id="check-agree" type="checkbox" name="check">
                                                <label for="check-agree">By continuing, you agree to the<a href="#" class="link" target="_blank"> Terms
                                                    and Conditions</a>.</label>
                                            </div>
                                            </div>
                                       
                                    </div>
                                            

                                            <button type="submit" id="submit" class="float-end action-button btn no-shdow-btn px-5 btn-primary">
                                                Submit
                                            </button>

                                        </form>

                                    </div>
                                </div>
                            </div>

                        </div>
                    </div>
                </div>
            </div>
        </div>
        <!-- content end-->
    </div>
    <!--wrapper end -->
    <!--footer -->
    <footer class="main-footer">
        <!--footer-inner-->
        <div class="footer-inner">
            <div class="container">
                <!--footer-fw-widget-->

                <!--footer-fw-widget end-->
                <div class="row">

                    <div class="col-md-12">
                        <p>
                            <jcms:module:footerBrief/>
                        </p>
                        <br><br><br>
                    </div>
                    <!--footer-widget -->
                    <div class="col-md-4">
                        <div class="footer-widget fl-wrap">

                            <div class="footer-contacts-widget fl-wrap">
                                <jcms:module:footer-contactinfo/>


                            </div>
                        </div>
                    </div>

                    <jcms:module:socialbottom/>

                    <div class="col-md-4">

                        <jcms:module:customersupport/>

                    </div>
                    <!--footer-widget end-->

                </div>
                <div class="clearfix"></div>

            </div>
        </div>
        <!--footer-inner end -->
        <div class="footer-bg">
        </div>
        <!--sub-footer-->
        <div class="sub-footer">
            <div class="container">

                <div class="copyright">
                    <jcms:site:copyright/>
                </div>

                <div class="subfooter-nav">
                    <jcms:module:footer-menu/>

                </div>
            </div>
        </div>
        <!--sub-footer end -->
    </footer>

    <!--register form end -->
    <a class="to-top"><i class="fas fa-caret-up"></i></a>
</div>
<!-- Main end -->

<!--register form -->
<jcms:module:subscribers:login-register-form/>
<!--register form end -->

<!--=============== scripts  ===============-->
<script type="text/javascript" src="js/jquery.min.js"></script>
<script type="text/javascript" src="js/plugins.js"></script>
<script type="text/javascript" src="js/jquery-ui.min.js"></script>
<script type="text/javascript" src="js/jquery.validate.min.js"></script>
<script src='https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js'
        integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM" crossorigin="anonymous"></script>
<script type="text/javascript" src="js/scripts.js"></script>
<!--<script src="https://maps.googleapis.com/maps/api/js?key=YOURAPIKEYHERE&libraries=places&callback=initAutocomplete"></script>
<script type="text/javascript" src="js/map-single.js"></script>-->

<script>
    var base_url = jQuery('base').attr('url');
    if ($('#hotelsearchform')[0]) {

        $("#searchkey").autocomplete({
            source: base_url + "hotelcomplete.php",
            minLength: 2,
            showHintOnFocus: true,
            select: function (event, ui) {
                $('input[name="hotelid"]').val(ui.item.id);
            }
        });

        $('#checkin').datepicker({
            changeMonth: true,
            changeYear: true,
            dateFormat: 'yy-mm-dd',
            minDate: '0',
            maxDate: '+2Y',
            onSelect: function (dateStr) {
                var d1 = $(this).datepicker("getDate");
                d1.setDate(d1.getDate() + 1); // change to + 1 if necessary
                var d2 = $(this).datepicker("getDate");
                d2.setDate(d2.getDate() + 180); // change to + 180 if necessary
                $("#checkout").datepicker("option", "minDate", d1);
                $("#checkout").datepicker("option", "maxDate", d2);
                var start = $("#checkin").datepicker("getDate");
                var end = $("#checkout").datepicker("getDate");
                var days = (end - start) / 1000 / 60 / 60 / 24;
                if (end != null)
                    var dd = $(this).datepicker("getDate");
                $('#checkout').datepicker('setDate', d1);
            }
        });

        $('#checkout').datepicker({
            changeMonth: true,
            changeYear: true,
            dateFormat: 'yy-mm-dd',
            minDate: $("#checkin").datepicker("getDate"),
            maxDate: '+2Y'
        });

        $("#hotelsearchform").validate({
            errorElement: 'span',
            errorClass: 'validate-has-error',
            rules: {
                searchkey: {required: true,},
                hotelid: {required: true}
            },
            messages: {
                searchkey: {required: "Please enter a destination to start searching.",},
                hotelid: {required: ''}
            },
            submitHandler: function (form) {
                var Frmval = $("#hotelsearchform").serialize();
                $("#btn-search").attr("disabled", "true").html('Loading...');
                $.ajax({
                    type: "POST",
                    dataType: "JSON",
                    url: base_url + "hotelcomplete.php",
                    data: "action=getlink&" + Frmval,
                    success: function (data) {
                        var msg = eval(data);
                        window.location.href = base_url + "search/" + data.url;
                    }
                });
                return false;
            }
        });

    }

    $(document).ready(function () {

        $(".hotels_no").on("change", function () {
            var e = $(this).val(),
                a = $(this).parents("div.add-hotels"),
                l = "";
            for (j = 1; j <= e; j++) {
                l += '<div class="col-sm-6 anim">\
                        <span>Property Name</span>\
                            <input type="text"  name="hotel_name[]" id="hotel_name' + j + '" value=""/>\
                        </div>\
                        <div class="col-sm-6 anim">\
                            <span>Location</span>\
                                <input type="text"  name="hotel_location[]" id="hotel_location' + j + '" value=""/>\
                        </div>';
            }
            a.find("div.hotel-details").html(l);
        })

        $("input[id='check-hotel']").on("change", function () {
            $('#hotel-section').toggleClass('hide');
        })

        $("input[id='check-package']").on("change", function () {
            $('#package-section').toggleClass('hide');
        })

        $("input[id='check-vehicle']").on("change", function () {
            $('#vehicle-section').toggleClass('hide');
        })

        $("select[name='vehicle_vendor_type']").on("change", function () {
            $('#vehicle-company-name').toggleClass('hide');
            $('#vehicle-company-contact-no').toggleClass('hide');
        })

        $("#signUpForm").validate({
            errorElement: 'p',
            errorClass: 'text-danger',
            rules: {
                first_name: {
                    required: !0
                },
                last_name: {
                    required: !0
                },
                user_name: {
                    required: !0
                },
                email: {
                    required: !0,
                    email: !0
                },
                contact: {required: !0},
                password: {required: !0},
                confirm_password: {
                    required: !0,
                    equalTo: "#password"
                },
                'check_service[]': {required: !0},
                hotels_no: {required: !0},
                'hotel_name[]': {required: !0},
                'hotel_location[]': {required: !0},
                trip_company_name : {required: !0},
                trip_contact_no : {required: !0},
                trip_company_address : {required: !0},
                vehicle_company_name : {required: !0},
                vehicle_no : {required: !0},
                vehicle_company_contact_no : {required: !0},
                vehicle_vendor_address : {required: !0},
                check: {
                    required: !0
                }
            },
            messages: {
                first_name: {
                    required: "Enter your First Name"
                },
                last_name: {
                    required: "Enter your Last Name"
                },
                user_name: {
                    required: "Enter your User Name"
                },
                email: {
                    required: "Enter your Email Address",
                    email: "Enter a valid email address"
                },
                contact: {required: "Enter your Phone Number"},
                password: {required: "Enter your Password"},
                confirm_password: {
                    required: "Enter your password confirmation",
                    equalTo: "Password Mismatch !"
                },
                'check_service[]': {
                    required: "At least one service is required"
                },
                hotels_no: {
                    required: "Enter your Number of Hotels"
                },
                'hotel_name[]': {
                    required: "Enter your Hotel Name"
                },
                'hotel_location[]': {
                    required: "Enter your Hotel Location"
                },
                trip_company_name : {
                    required: "Enter your Company Name"
                },
                trip_contact_no : {
                    required: "Enter your Company Contact Number"
                },
                trip_company_address : {
                    required: "Enter your Company Address"
                },
                vehicle_company_name : {
                    required: "Enter your Company Name"
                },
                vehicle_no : {
                    required: "Enter Number of Vehicles"
                },
                vehicle_company_contact_no : {
                    required: "Enter Company Contact Number"
                },
                vehicle_vendor_address : {
                    required: "Enter Address"
                },
                check: {required: "Please agree to Terms and Conditions"}
            },
            submitHandler: function (form) {
                if (form) {
                    var Frmval = $("#signUpForm").serialize();
                    $("button#submit").attr("disabled", "true").text('Processing...');
                    $.ajax({
                        type: "POST",
                        dataType: "JSON",
                        url: base_url + "includes/controllers/ajax.user.php",
                        data: "action=registerNewFrontHotelUser&" + Frmval,
                        success: function (data) {
                            var msg = eval(data);
                            $("button#submit").removeAttr("disabled").text('Submit');
                            if (msg.action == 'success') {
                                $('div#msg')
                                    .html(msg.message)
                                    .append('<br>Please click <a href="<jcms:site:base_url/>home" class="alert-link">here</a> to go to homepage <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>')
                                    .addClass('alert alert-success alert-dismissible');
                                $("form#signUpForm")[0].reset();
                                $("div.hotel-details").html('');
                            }
                            if (msg.action == 'error') {
                                $('div#msg')
                                    .html(msg.message)
                                    .addClass('alert alert-danger alert-dismissible');
                            }
                        }
                    });
                    return !1;
                }
            }
        })
    });
</script>
</body>
</html>